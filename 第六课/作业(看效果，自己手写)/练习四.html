<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style>
body{margin:0;}
#div1{width:100px;height:100px;background:red;position:absolute;left:0;top:0;}
</style>
<script>
window.onload=function()
{
	var oDiv=document.getElementById('div1');
	var timer=null;
	var oEvent=null;
	document.onkeydown=function(ev)
	{
		clearInterval(timer);
		oEvent=ev||event;
		timer=setInterval(function(ev)
		{
			switch(oEvent.keyCode)
			{
				case 37:
				oDiv.style.left=oDiv.offsetLeft-5+'px';
				break;
				case 38:
				oDiv.style.top=oDiv.offsetTop-5+'px';
				break;
				case 39:
				oDiv.style.left=oDiv.offsetLeft+5+'px';
				break;
				case 40:
				oDiv.style.top=oDiv.offsetTop+5+'px';
				break;
			}
			if(oDiv.offsetLeft<0)
			{
				oDiv.style.left=0;
			}
			if(oDiv.offsetLeft>=document.documentElement.clientWidth-oDiv.offsetWidth)
			{
				oDiv.style.left=document.documentElement.clientWidth-oDiv.offsetWidth+'px';
			}
			if(oDiv.offsetTop<0)
			{
				oDiv.style.top=0;
			}
			if(oDiv.offsetTop>=document.documentElement.clientHeight-oDiv.offsetHeight)
			{
				oDiv.style.top=document.documentElement.clientHeight-oDiv.offsetHeight+'px';
			}
		},7)
	}
	document.onkeyup=function()
	{
		clearInterval(timer);
	}
}
</script>
</head>

<body>
<div id="div1"></div>
</body>
</html>

